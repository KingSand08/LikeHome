// To get the middle ware started, you must first navigate to the like home folder
// In this folder, open a termina and run "npx prisma generate"
// Following this, make sure prisma is up to date with the DB by running "npx prisma db pull" *only run this once or it will say smt about Re-Introspection
// To check if the DB is linked and working run "npx prisma studio" (it will display the database)

// prisma/schema.prisma
datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Region {
  id     String  @id @default(auto()) @map("_id") @db.ObjectId
  name   String
  hotels Hotel[]
}

model Hotel {
  id       String @id @default(auto()) @map("_id") @db.ObjectId
  name     String
  regionId String @db.ObjectId
  region   Region @relation(fields: [regionId], references: [id])
  rooms    Room[]
}

model Room {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  name    String
  hotelId String @db.ObjectId
  hotel   Hotel  @relation(fields: [hotelId], references: [id])
  price   Float
}

model Reservation {
  id       String   @id @default(auto()) @map("_id") @db.ObjectId
  hotelId  String   @db.ObjectId
  roomId   String   @db.ObjectId
  userId   String
  checkIn  DateTime
  checkOut DateTime
}
